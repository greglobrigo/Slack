(this["webpackJsonpslack-app"]=this["webpackJsonpslack-app"]||[]).push([[0],{153:function(e,t,n){},154:function(e,t,n){},174:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(46),i=n.n(c),r=(n(153),n(154),n(7)),l=n(59),o=n(18),d=n(278),h=n(285),u=n(264),j=n(272),b=n(286),m=n(279),p=n(283),O=n(284),g=n(282),x=n(124),v=n(276),f=n(28),C=n.n(f);var S,y,k=function(e,t){var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.log(a),t}})),s=Object(r.a)(n,2),c=s[0],i=s[1];return[c,function(t){try{var n=t instanceof Function?t(c):t;i(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.log(a)}}]},I=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],s=t[1];Object(a.useEffect)((function(){s(!0),setTimeout((function(){s(!1)}),3e3)}),[]);var c=k("headers",[]),i=Object(r.a)(c,2),l=(i[0],i[1]),o=k("userID",[]),d=Object(r.a)(o,2),h=(d[0],d[1]),u=Object(a.useState)(""),j=Object(r.a)(u,2),b=j[0],m=j[1],p=Object(a.useState)(""),O=Object(r.a)(p,2),g=O[0],x=O[1],v=Object(a.useState)(""),f=Object(r.a)(v,2),S=f[0],y=f[1],I=Object(a.useState)(!1),U=Object(r.a)(I,2),w=U[0],T=U[1],E=Object(a.useState)(!1),D=Object(r.a)(E,2),M=D[0],N=D[1],A=k("status",{isLoggedIn:!1,signedOut:!1}),R=Object(r.a)(A,2),B=(R[0],R[1]),W=Object(a.useState)({passwordsDoNotMatch:!1,invalidEmailFormat:!1,emailIsEmpty:!1,passwordIsEmpty:!1,passwordTooShort:!1}),F=Object(r.a)(W,2),z=F[0],P=F[1],L=Object(a.useState)({successful:!1,failed:!1}),G=Object(r.a)(L,2),_=G[0],H=G[1],V=Object(a.useState)({successful:!1,failed:!1}),J=Object(r.a)(V,2),Y=J[0],q=J[1],X=function(){C()({url:"https://slackapi.avionschool.com/api/v1/auth",data:{email:S,password:b,password_confirmation:g},headers:{},method:"POST"}).then((function(){H({successful:!0}),K()})).catch((function(e){console.log(e),H({failed:!0})}))},K=function(){y(""),m(""),x("")},Q=function(){s(!0),setTimeout((function(){s(!1),N(!0)}),2e3),B({isLoggedIn:!0,signedOut:!1})};return{password:b,setPassword:m,email:S,setEmail:y,logIn:function(e){e.preventDefault(),S?b?S.includes(".")?C()({url:"https://slackapi.avionschool.com/api/v1/auth/sign_in",data:{email:S,password:b},headers:{},method:"POST"}).then((function(e){h(e.data.data.id),l(e.headers),Q(),K()})).catch((function(e){console.log(e),q({failed:!0})})):P({invalidEmailFormat:!0}):P({passwordIsEmpty:!0}):P({emailIsEmpty:!0})},setIsLogin:q,isLogin:Y,isRegistering:w,setIsRegistering:T,secondPassword:g,setSecondPassword:x,register:function(e){e.preventDefault(),S.includes(".")?b&&g?b!==g?P({passwordsDoNotMatch:!0}):b.length<6?P({passwordTooShort:!0}):X():P({passwordIsEmpty:!0}):P({invalidEmailFormat:!0})},registerUser:X,isRegister:_,setIsRegister:H,validInfo:z,setValidInfo:P,setLoading:s,loading:n,transition:Q,route:M,setRoute:N}},U=(n(174),n(69)),w=n(93),T=n(125),E=n(1),D=Object(x.a)(),M=function(){var e=I(),t=e.password,n=e.setPassword,a=e.secondPassword,s=e.setSecondPassword,c=e.email,i=e.setEmail,r=e.logIn,l=e.isLogin,x=e.setIsLogin,f=e.isRegistering,C=e.setIsRegistering,S=e.register,y=e.isRegister,k=e.setIsRegister,M=e.setValidInfo,N=e.validInfo,A=e.loading,R=e.route;return Object(E.jsxs)(E.Fragment,{children:[R&&Object(E.jsx)(o.a,{to:"/chat"}),A?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"loader",children:[Object(E.jsx)(U.HashLoader,{loading:A,color:"purple",size:80}),Object(E.jsx)("h3",{children:"Loading..."})]})}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"background"}),Object(E.jsxs)(w.Fade,{up:!0,children:[Object(E.jsxs)("div",{className:"heading-container",children:[Object(E.jsxs)("span",{className:"heading",children:[Object(E.jsx)(T.a,{}),"Avion Slack App"]}),Object(E.jsx)("span",{className:"website",children:"avionschool.slack.com"})]}),Object(E.jsx)(v.a,{theme:D,children:Object(E.jsxs)(g.a,{component:"main",maxWidth:"xs",children:[Object(E.jsx)(u.a,{}),Object(E.jsxs)(p.a,{sx:{marginTop:5,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(E.jsx)(d.a,{sx:{m:1,bgcolor:"purple"}}),Object(E.jsx)(O.a,{component:"h1",variant:"h5",children:f?"Register ":"Sign in"}),Object(E.jsxs)(p.a,{component:"form",onClick:function(){x(!1),k(!1),M(!1)},noValidate:!0,sx:{mt:1},children:[Object(E.jsx)(j.a,{onChange:function(e){return i(e.target.value)},value:c,margin:"normal",fullWidth:!0,label:"Email Address",type:"text",autoFocus:!0}),Object(E.jsx)(j.a,{onChange:function(e){return n(e.target.value)},value:t,margin:"normal",fullWidth:!0,label:"Password",type:"password"}),f&&Object(E.jsxs)(w.Fade,{up:!0,children:[" ",Object(E.jsx)(j.a,{onChange:function(e){return s(e.target.value)},value:a,margin:"normal",fullWidth:!0,label:"Re-type Password",type:"password"})," "]}),l.failed&&Object(E.jsx)("span",{className:"failed",children:"Invalid email or password"}),y.successful&&Object(E.jsx)("span",{className:"success",children:"Registration Success!"}),y.failed&&Object(E.jsx)("span",{className:"failed",children:"Email already taken"}),N.invalidEmailFormat&&Object(E.jsx)("span",{className:"failed",children:"Invalid email format"}),N.emailIsEmpty&&Object(E.jsx)("span",{className:"failed",children:"Email is required"}),N.passwordIsEmpty&&Object(E.jsx)("span",{className:"failed",children:"Password is required"}),N.passwordsDoNotMatch&&Object(E.jsx)("span",{className:"failed",children:"Passwords do not match"})]}),Object(E.jsx)(h.a,{onClick:function(e){f?S(e):r(e)},type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,backgroundColor:"purple"},children:f?"Sign up":"Sign In"}),Object(E.jsx)(m.a,{container:!0,children:Object(E.jsx)(m.a,{item:!0,children:Object(E.jsx)(b.a,{style:{cursor:"pointer"},onClick:function(){return C(!f)},variant:"body2",children:f?"Already have an account? Sign in":"Don't have an account? Sign Up"})})})]}),Object(E.jsxs)(O.a,{className:"copyright",variant:"body2",color:"text.secondary",align:"center",sx:{mt:3,mb:2},children:["Copyright \xa9 ",Object(E.jsx)("span",{color:"inherit",children:"Avion School Slack App"})," ",(new Date).getFullYear(),"."]})]})})]})]})]})},N=function(e){var t=e.loading;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"loader",children:[Object(E.jsx)(U.HashLoader,{loading:t,color:"purple",size:80}),Object(E.jsx)("h3",{children:"Almost there..."})]})})},A=n(16),R=n(47),B=function(){var e=k("headers",[]),t=Object(r.a)(e,1)[0],n=k("userID",[]),s=Object(r.a)(n,1)[0],c=Object(a.useState)([]),i=Object(r.a)(c,2),l=i[0],o=i[1],d=Object(a.useState)([]),h=Object(r.a)(d,2),u=h[0],j=h[1],b=Object(a.useState)(!1),m=Object(r.a)(b,2),p=m[0],O=m[1],g=Object(a.useState)(""),x=Object(r.a)(g,2),v=x[0],f=x[1],I=Object(a.useState)([]),U=Object(r.a)(I,2),w=U[0],T=U[1],E=Object(a.useState)(!1),D=Object(r.a)(E,2),M=D[0],N=D[1],B=Object(a.useState)([]),W=Object(r.a)(B,2),F=W[0],z=W[1],P=Object(a.useState)([]),L=Object(r.a)(P,2),G=L[0],_=L[1],H=Object(a.useState)([]),V=Object(r.a)(H,2),J=V[0],Y=V[1],q=Object(a.useState)({home:!0,channel:!1}),X=Object(r.a)(q,2),K=X[0],Q=X[1],Z=k("status",{isLoggedIn:!1,signedOut:!1}),$=Object(r.a)(Z,2),ee=$[0],te=$[1],ne=l.filter((function(e){return!e.email.includes(t.uid)})),ae=Object(a.useState)({success:!1,failed:!1}),se=Object(r.a)(ae,2),ce=se[0],ie=se[1],re=Object(a.useState)(""),le=Object(r.a)(re,2),oe=le[0],de=le[1],he=Object(a.useState)(!1),ue=Object(r.a)(he,2),je=ue[0],be=ue[1],me=Object(a.useState)(!1),pe=Object(r.a)(me,2),Oe=pe[0],ge=pe[1],xe=Object(a.useState)([]),ve=Object(r.a)(xe,2),fe=ve[0],Ce=ve[1],Se=Object(a.useState)({openSB:!1,vertical:"top",horizontal:"center"}),ye=Object(r.a)(Se,2),ke=ye[0],Ie=ye[1];Object(a.useEffect)((function(){O(!0),setTimeout((function(){O(!1)}),2e3)}),[]),Object(a.useEffect)((function(){C()({url:"https://slackapi.avionschool.com/api/v1/users",data:{},method:"GET",headers:{"access-token":t["access-token"],client:t.client,expiry:t.expiry,uid:t.uid}}).then((function(e){o(e.data.data)})).catch((function(e){console.log(e)}));C()({url:"https://slackapi.avionschool.com/api/v1/channels",data:{},method:"GET",headers:{"access-token":t["access-token"],client:t.client,expiry:t.expiry,uid:t.uid}}).then((function(e){return j(e.data.data)})).catch((function(e){console.log(e)})),Ne()}),[t]);var Ue=function(e){C()({url:"https://slackapi.avionschool.com/api/v1/messages?receiver_id=".concat(e,"&receiver_class=Channel"),data:{},method:"GET",headers:{"access-token":t["access-token"],expiry:t.expiry,client:t.client,uid:t.uid}}).then((function(e){T(e.data.data)})).catch((function(e){console.log(e)}))},we=function(e){C()({url:"https://slackapi.avionschool.com/api/v1/messages?receiver_id=".concat(e.id,"&receiver_class=User"),method:"GET",headers:{"access-token":t["access-token"],expiry:t.expiry,client:t.client,uid:t.uid}}).then((function(e){T(e.data.data)})).catch((function(e){console.log(e)}))},Te=Object(a.useState)({currentTime:"",currentDate:""}),Ee=Object(r.a)(Te,2),De=Ee[0],Me=Ee[1],Ne=function(){var e=new Date,t=new Array(7);t[0]="Sunday",t[1]="Monday",t[2]="Tuesday",t[3]="Wednesday",t[4]="Thursday",t[5]="Friday",t[6]="Saturday",setInterval((function(){var n=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),a=t[e.getDay()];Me({currentTime:n,currentDate:a})}),1e3)};return{loading:p,headers:t,users:l,channels:u,handleClickOpenChannel:function(){be(!je)},openChannel:je,inviteUserToAChannel:function(e,n,a){var s,c=l.filter((function(t){return t.email===e}));C()({url:"https://slackapi.avionschool.com/api/v1/channel/add_member",data:{id:"".concat(fe.id),member_id:"".concat(null===(s=c[0])||void 0===s?void 0:s.id)},method:"POST",headers:{"access-token":t["access-token"],expiry:t.expiry,uid:t.uid,client:t.client}}).then((function(e){e.data.errors?de(e.data.errors):(Ie(Object(R.a)(Object(R.a)({},ke),{},{openSB:!0})),a(""),de(""),n()),console.log(e)})).catch((function(e){console.error(e)}))},createNewChannelWithUser:function(e,n,a){C()({url:"https://slackapi.avionschool.com/api/v1/channels",data:{name:"".concat(e),user_ids:[s]},method:"POST",headers:{"access-token":t["access-token"],expiry:t.expiry,client:t.client,uid:t.uid}}).then((function(e){var s;if(C()({url:"https://slackapi.avionschool.com/api/v1/channels",data:{},method:"GET",headers:{"access-token":t["access-token"],client:t.client,expiry:t.expiry,uid:t.uid}}).then((function(e){return j(e.data.data)})).catch((function(e){console.log(e)})),null===(s=e.data.data)||void 0===s?void 0:s.id)Ie(Object(R.a)(Object(R.a)({},ke),{},{openSB:!0})),n(),a("");else{var c=e.data.errors;ie({failed:Object(A.a)(c).join(". ")})}})).catch((function(e){console.log(e)}))},handleClickOpenUsers:function(){ge(!Oe)},openUsers:Oe,handleDrawerToggle:function(){N(!M)},mobileOpen:M,allMessagesRetrieved:w,message:v,setMessage:f,selectedChannel:fe,setSelectedChannel:Ce,createMessageInAChannel:function(e){C()({url:"https://slackapi.avionschool.com/api/v1/messages",data:{receiver_id:"".concat(fe.id),receiver_class:"Channel",body:"".concat(e)},method:"POST",headers:{"access-token":t["access-token"],expiry:t.expiry,client:t.client,uid:t.uid}}).then(Ue(fe.id)).catch((function(e){console.log(e)}))},intervalRetrieveMessages:function(e){clearTimeout(S),clearTimeout(y),_([]),Ue(e),S=setInterval((function(){Ue(e)}),1500)},userID:s,returnToHome:function(){Q({home:!0,channel:!1}),clearTimeout(S),clearTimeout(y),T([]),Ce([]),_([])},sortByEmail:function(e){var t=ne.filter((function(t){return t.email.includes(e)}));z(t)},searchResults:F,selectedUser:G,createDirectMessageToAUser:function(e){C()({url:"https://slackapi.avionschool.com/api/v1/messages",data:{receiver_id:"".concat(G.id),receiver_class:"User",body:"".concat(e)},method:"POST",headers:{"access-token":t["access-token"],expiry:t.expiry,client:t.client,uid:t.uid}}).catch((function(e){console.log(e)}))},intervalRetrieveMessagesWithUser:function(e){clearTimeout(S),clearTimeout(y),Ce([]),_(e),we(e),z([]),y=setInterval((function(){we(e)}),1500)},currentDateAndTime:De,isCreateChannel:ce,setIsCreateChannel:ie,userInviteError:oe,setUserInviteError:de,stateSB:ke,setStateSB:Ie,retrieveChannelUsers:function(e){C()({url:"https://slackapi.avionschool.com/api/v1/channels/".concat(e),method:"GET",headers:{"access-token":t["access-token"],expiry:t.expiry,client:t.client,uid:t.uid}}).then((function(e){var t=e.data.data.channel_members.map((function(e){return e.user_id})),n=l.filter((function(e){return t.includes(e.id)}));Y(n),Q({home:!1,channel:!0})})).catch((function(e){console.log(e)}))},channelMembers:J,usersDisplayed:K,signOut:function(){Q({home:!0,channel:!1}),clearTimeout(S),clearTimeout(y),T([]),Ce([]),_([]),te({isLoggedIn:!1,signedOut:!0})},userStatus:ee}},W=n(280),F=n(271),z=n(289),P=n(287),L=n(288),G=n(118),_=n.n(G),H=n(117),V=n.n(H),J=n(295),Y=n(298),q=n(297),X=n(296),K=function(e){var t=e.open,n=e.handleClose,s=e.dialogTitleText,c=e.inviteUserToAChannel,i=e.label,l=e.type,o=e.createNewChannelWithUser,d=e.intervalRetrieveMessagesWithUser,u=e.sortByEmail,b=e.searchResults,m=e.isCreateChannel,p=e.setIsCreateChannel,O=e.userInviteError,g=e.setUserInviteError,x=e.setGetChannel,v=e.setGetEmail,f=Object(a.useState)(""),C=Object(r.a)(f,2),S=C[0],y=C[1];return Object(E.jsx)("div",{children:Object(E.jsxs)(J.a,{open:t,onClose:n,children:[Object(E.jsx)(X.a,{sx:{pb:1},children:s}),Object(E.jsxs)(q.a,{children:[u&&Object(E.jsx)(j.a,{autoFocus:!0,margin:"dense",id:"name",label:i,type:l,fullWidth:!0,variant:"standard",onChange:function(e){y(e.target.value),u(S)},value:S}),b&&Object(E.jsx)(P.a,{className:"list-results",children:b.map((function(e){return Object(E.jsx)(F.a,{sx:{pl:4},onClick:function(){d(e),n(),y("")},children:Object(E.jsx)(L.a,{primary:"".concat(e.uid)})},e.id)}))}),c&&Object(E.jsx)(j.a,{autoFocus:!0,margin:"dense",id:"name",label:i,type:l,fullWidth:!0,variant:"standard",onChange:function(e){y(e.target.value)},value:S}),O&&Object(E.jsx)("span",{style:{color:"red"},children:O}),o&&Object(E.jsx)(j.a,{autoFocus:!0,margin:"dense",id:"name",label:i,type:l,fullWidth:!0,variant:"standard",onChange:function(e){y(e.target.value)},value:S}),(null===m||void 0===m?void 0:m.failed)&&Object(E.jsx)("span",{style:{color:"red"},children:Object(A.a)(m.failed)})]}),Object(E.jsxs)(Y.a,{children:[Object(E.jsx)(h.a,{onClick:function(){n(),y(""),m&&p(!1),O&&g("")},children:"Cancel"}),c&&Object(E.jsx)(h.a,{onClick:function(){v(S),c(S,n,y),setTimeout((function(){v("")}),4e3)},children:"Invite"}),o&&Object(E.jsx)(h.a,{sx:{alignItems:"center"},onClick:function(){x(S),o(S,n,y),setTimeout((function(){x("")}),4e3)},children:"Create"})]})]})})},Q=n(116),Z=n.n(Q),$=n(120),ee=n.n($),te=n(119),ne=n.n(te);function ae(e){var t=e.open,n=e.handleClose,a=e.Avatar,s=e.signOut,c=e.headers.uid.toString();return Object(E.jsx)("div",{children:Object(E.jsxs)(J.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(X.a,{id:"alert-dialog-title",children:"Are you sure want to sign out?"}),Object(E.jsxs)(q.a,{style:{display:"flex",alignItems:"center"},children:[Object(E.jsx)(a,{style:{marginRight:"10px",backgroundColor:"purple"},children:"".concat(c[0].toUpperCase())}),c]}),Object(E.jsxs)(Y.a,{children:[Object(E.jsx)(h.a,{onClick:n,children:"No"}),Object(E.jsx)(h.a,{onClick:function(){s(),n()},autoFocus:!0,children:"Yes"})]})]})})}var se=function(e){e.handleClickOpenChannel,e.openChannel;var t=e.channels,n=e.createNewChannelWithUser,c=(e.handleClickOpenUsers,e.users),i=(e.openUsers,e.setSelectedChannel),l=e.intervalRetrieveMessages,h=e.returnToHome,u=e.sortByEmail,j=e.searchResults,b=e.intervalRetrieveMessagesWithUser,m=e.isCreateChannel,p=e.setIsCreateChannel,O=e.setGetChannel,g=e.retrieveChannelUsers,x=e.userStatus,v=e.headers,f=e.signOut,C=Object(a.useState)(!1),S=Object(r.a)(C,2),y=S[0],k=S[1],I=Object(a.useState)(!1),U=Object(r.a)(I,2),w=U[0],T=U[1],D=s.a.useState(!1),M=Object(r.a)(D,2),N=M[0],A=M[1];return Object(E.jsxs)(E.Fragment,{children:[x.signedOut&&Object(E.jsx)(o.a,{to:"/"}),Object(E.jsx)(z.a,{sx:{bgcolor:"purple"}}),Object(E.jsxs)("div",{className:"sidebar-container channel-list",children:[Object(E.jsxs)("div",{className:"side-navigation",style:{backgroundColor:"#b491c8"},children:[Object(E.jsxs)(P.a,{children:[Object(E.jsxs)(F.a,{className:"side-navigation-item",onClick:function(){h()},children:[Object(E.jsx)(Z.a,{}),Object(E.jsx)("span",{style:{fontSize:"0.75rem"},children:"Home"})]}),Object(E.jsxs)(F.a,{className:"side-navigation-item",onClick:function(){k(!0)},children:[Object(E.jsx)(V.a,{}),Object(E.jsx)("span",{style:{fontSize:"0.75rem"},children:"Add"}),Object(E.jsx)("span",{style:{fontSize:"0.75rem"},children:"Channel"})]}),Object(E.jsxs)(F.a,{className:"side-navigation-item",onClick:function(){T(!0)},children:[Object(E.jsx)(_.a,{}),Object(E.jsx)("span",{style:{fontSize:"0.75rem"},children:"Direct"}),Object(E.jsx)("span",{style:{fontSize:"0.75rem"},children:"Message"})]})]}),Object(E.jsx)(P.a,{children:Object(E.jsxs)(F.a,{className:"side-navigation-item sign-out-button",onClick:function(){A(!0)},children:[Object(E.jsx)(ne.a,{}),Object(E.jsx)("span",{children:"Sign Out"})]})})]}),Object(E.jsxs)("div",{className:"main-sidebar",children:[Object(E.jsxs)(P.a,{children:[Object(E.jsxs)("div",{style:{display:"flex"},children:[Object(E.jsx)(ee.a,{sx:{mt:.5,mr:1}}),Object(E.jsx)(L.a,{primary:"Channels (".concat(t?t.length:0,")")})]}),Object(E.jsx)(P.a,{component:"div",disablePadding:!0,children:t?t.map((function(e){return Object(E.jsx)("div",{children:Object(E.jsx)(F.a,{sx:{pl:4},onClick:function(){l(e.id),i(e),g(e.id)},children:Object(E.jsx)(L.a,{primary:"# ".concat(e.name)})})},e.id)})):Object(E.jsx)(F.a,{sx:{pl:4},children:Object(E.jsx)(L.a,{primary:"No users Available"})})})]}),Object(E.jsx)(P.a,{})]})]}),Object(E.jsx)(K,{open:y,handleClose:function(){k(!1)},dialogTitleText:"Enter New Channel Name You Want to Create",label:"Channel Name",type:"text",createNewChannelWithUser:n,isCreateChannel:m,setIsCreateChannel:p,setGetChannel:O}),Object(E.jsx)(K,{open:w,handleClose:function(){T(!1)},dialogTitleText:"Who do you want to send a message to?",label:"Email",type:"text",users:c,sortByEmail:u,searchResults:j,intervalRetrieveMessagesWithUser:b}),Object(E.jsx)(ae,{open:N,setOpen:A,handleClickOpen:function(){A(!0)},handleClose:function(){A(!1)},Avatar:d.a,userStatus:x,headers:v,signOut:f})]})},ce=n(122),ie=n.n(ce),re=n(291),le=n(121),oe=n.n(le),de=n(290),he=function(e){var t=e.drawerWidth,n=e.headers,s=e.handleDrawerToggle,c=e.channels,i=e.selectedChannel,l=e.inviteUserToAChannel,o=e.userID,d=e.selectedUser,h=e.currentDateAndTime,u=e.userInviteError,j=e.setUserInviteError,b=e.setGetEmail,m=Object(a.useState)(!1),O=Object(r.a)(m,2),g=O[0],x=O[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(de.a,{className:"appbar",position:"fixed",sx:{width:{sm:"calc(100% - ".concat(t,"px)")},ml:{sm:"".concat(t,"px")}},children:Object(E.jsxs)(z.a,{style:{backgroundColor:"purple",justifyContent:"space-between"},children:[Object(E.jsx)(re.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:s,sx:{mr:2,display:{sm:"none"}},children:Object(E.jsx)(oe.a,{})}),i.name?Object(E.jsx)(p.a,{onClick:function(){x(!0)},children:Object(E.jsxs)(F.a,{children:[Object(E.jsx)(ie.a,{style:{fontSize:"1.5rem",marginRight:"0.5rem"}}),Object(E.jsx)("span",{style:{fontSize:"0.75rem"},children:"Invite"})]})}):Object(E.jsxs)(p.a,{style:{display:"flex",flexDirection:"column"},children:[Object(E.jsx)("span",{style:{fontSize:"0.75rem"},children:"".concat(h.currentDate)}),Object(E.jsx)("span",{style:{fontSize:"0.75rem"},children:"".concat(h.currentTime)})]}),i.name||d.email?Object(E.jsx)(p.a,{children:Object(E.jsx)(F.a,{children:Object(E.jsxs)("span",{style:{fontSize:"0.9rem"},children:[i.name&&"Channel: ".concat(i.name)," ",d.email&&"Chat with ".concat(d.email)]})})}):Object(E.jsx)(p.a,{children:Object(E.jsx)(F.a,{children:Object(E.jsx)("span",{style:{fontSize:"1rem"},children:"Avion Slack App"})})}),Object(E.jsxs)(p.a,{style:{textAlign:"center",display:"flex",flexDirection:"column"},children:[Object(E.jsx)("span",{style:{fontSize:"0.75rem"},children:"".concat(n.uid)}),Object(E.jsx)("span",{style:{fontSize:"0.75rem"},children:"ID: ".concat(o)})]})]})}),Object(E.jsx)(K,{open:g,handleClose:function(){x(!1)},dialogTitleText:i&&"Enter email to invite to ".concat(i.name),channels:c,type:"text",label:"Email",inviteUserToAChannel:l,userInviteError:u,setUserInviteError:j,setGetEmail:b})]})},ue=n(274);function je(e){var t=e.stateSB,n=e.setStateSB,a=e.messageSB,s=t.vertical,c=t.horizontal,i=t.openSB;return Object(E.jsx)(ue.a,{open:i,autoHideDuration:3e3,anchorOrigin:{vertical:s,horizontal:c},onClose:function(){return n(Object(R.a)(Object(R.a)({},t),{},{openSB:!1}))},message:a},s+c)}var be=n(123),me=n.n(be),pe=function(e){var t=e.allMessagesRetrieved,n=e.setMessage,a=e.message,s=e.createMessageInAChannel,c=e.selectedChannel,i=e.selectedUser,r=e.createDirectMessageToAUser,l=e.stateSB,o=e.setStateSB,h=e.getChannel,u=e.getEmail;return Object(E.jsxs)(E.Fragment,{children:[h&&Object(E.jsx)(je,{stateSB:l,messageSB:"Successfully Created Channel: ".concat(h,"!"),setStateSB:o}),u&&Object(E.jsx)(je,{stateSB:l,messageSB:"Successfully Added User: ".concat(u,"!"),setStateSB:o}),Object(E.jsxs)(p.a,{component:"main",sx:{flexGrow:1,p:3},style:{padding:"0 20px 150px 360px"},children:[Object(E.jsx)(z.a,{}),Object(E.jsx)(p.a,{style:{display:"flex",flexDirection:"column",width:"600px"},children:(null===t||void 0===t?void 0:t.length)>=1?t.map((function(e){return Object(E.jsx)("div",{children:Object(E.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(E.jsxs)("div",{style:{padding:"15px 0",marginRight:"25px"},children:[Object(E.jsx)(d.a,{style:{backgroundColor:"purple"},children:e.sender.email.slice(0,1).toUpperCase()}),Object(E.jsx)("p",{style:{paddingTop:"10px",margin:"0",fontSize:"12px"},children:"".concat(me()(e.created_at).fromNow())})]}),Object(E.jsxs)("div",{children:[Object(E.jsxs)("p",{style:{margin:"0"},children:[" ","".concat(e.sender.email.split("@")[0]," says:")]}),Object(E.jsx)("p",{style:{margin:"0"},children:e.body})]})]})},e.id)})):c.name&&Object(E.jsxs)("span",{className:"greetings",children:["Channel: ",c.name," has no messages."]})||i.email&&Object(E.jsxs)("span",{className:"greetings",children:["You have no chat history with ",i.email,". Send him/her a message!"]})||Object(E.jsx)("span",{className:"greetings",children:"Welcome to Avion Slack App! Hop on a channel or send a DM to get started!\ud83d\udc40"})}),c.name&&Object(E.jsx)(p.a,{className:"message-area-container",component:"form",noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),s(a),n("")},children:Object(E.jsx)(j.a,{className:"message-area",id:"outlined-basic",label:"Enter your message here",variant:"outlined",onChange:function(e){return n(e.target.value)},value:a})}),i.email&&Object(E.jsx)(p.a,{className:"message-area-container",component:"form",noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),r(a),n("")},children:Object(E.jsx)(j.a,{className:"message-area",id:"outlined-basic",label:"Enter your message here",variant:"outlined",onChange:function(e){return n(e.target.value)},value:a})})]})]})},Oe=n(292),ge=n(277),xe=n(293),ve=function(e){var t=e.users,n=e.channelMembers,a=e.usersDisplayed;return Object(E.jsxs)(W.a,{className:"right-side-bar",sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box"}},variant:"permanent",anchor:"right",children:[Object(E.jsx)(z.a,{}),Object(E.jsx)(Oe.a,{}),a.home&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(xe.a,{children:"ALL USERS"}),Object(E.jsx)(P.a,{style:{overflowX:"hidden"},className:"channel-list",children:t.slice(0,100).map((function(e){return Object(E.jsxs)(ge.a,{children:[Object(E.jsx)(d.a,{style:{marginRight:"10px",backgroundColor:"purple"},children:e.email.slice(0,1).toUpperCase()}),Object(E.jsx)(L.a,{style:{margin:0,width:"100%"},primary:"".concat(e.uid.split("@")[0])})]},e.id)}))})]}),a.channel&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(xe.a,{children:"Channel Members"}),Object(E.jsx)(P.a,{style:{overflowX:"hidden"},className:"channel-list",children:n.map((function(e){return Object(E.jsxs)(ge.a,{children:[Object(E.jsx)(d.a,{style:{marginRight:"10px",backgroundColor:"purple"},children:e.email.slice(0,1).toUpperCase()}),Object(E.jsx)(L.a,{style:{margin:0,width:"100%"},primary:"".concat(e.email.split("@")[0])})]},e.id)}))})]}),Object(E.jsx)(Oe.a,{})]})},fe=function(e){var t=e.headers,n=e.users,s=e.channels,c=e.handleClickOpenChannel,i=e.openChannel,l=e.inviteUserToAChannel,o=e.createNewChannelWithUser,d=e.handleClickOpenUsers,h=e.openUsers,j=e.handleDrawerToggle,b=e.mobileOpen,m=e.allMessagesRetrieved,O=e.message,g=e.setMessage,x=e.isAChannelSelected,v=e.selectedChannel,f=e.setSelectedChannel,C=e.createMessageInAChannel,S=e.intervalRetrieveMessages,y=e.userID,k=e.returnToHome,I=e.sortByEmail,U=e.searchResults,w=e.selectedUser,T=e.createDirectMessageToAUser,D=e.intervalRetrieveMessagesWithUser,M=e.currentDateAndTime,N=e.isCreateChannel,A=e.setIsCreateChannel,R=e.userInviteError,B=e.setUserInviteError,F=e.stateSB,z=e.setStateSB,P=e.retrieveChannelUsers,L=e.channelMembers,G=e.usersDisplayed,_=e.userStatus,H=e.signOut,V=320,J=Object(a.useState)(""),Y=Object(r.a)(J,2),q=Y[0],X=Y[1],K=Object(a.useState)(""),Q=Object(r.a)(K,2),Z=Q[0],$=Q[1];return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(p.a,{children:[Object(E.jsx)(u.a,{}),Object(E.jsx)(he,{drawerWidth:V,headers:t,handleDrawerToggle:j,isAChannelSelected:x,selectedChannel:v,inviteUserToAChannel:l,userID:y,selectedUser:w,currentDateAndTime:M,userInviteError:R,setUserInviteError:B,setGetEmail:$}),Object(E.jsxs)(p.a,{component:"nav",sx:{width:{sm:V},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[Object(E.jsx)(W.a,{variant:"temporary",open:b,onClose:j,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:V}},children:Object(E.jsx)(se,{handleClickOpenChannel:c,openChannel:i,createNewChannelWithUser:o,handleClickOpenUsers:d,users:n,openUsers:h,setSelectedChannel:f,intervalRetrieveMessages:S,returnToHome:k,sortByEmail:I,searchResults:U,intervalRetrieveMessagesWithUser:D,channels:s,isCreateChannel:N,setIsCreateChannel:A,setGetChannel:X,retrieveChannelUsers:P,userStatus:_,headers:t,signOut:H})}),Object(E.jsx)(W.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:V}},open:!0,children:Object(E.jsx)(se,{handleClickOpenChannel:c,openChannel:i,createNewChannelWithUser:o,handleClickOpenUsers:d,users:n,openUsers:h,setSelectedChannel:f,intervalRetrieveMessages:S,returnToHome:k,sortByEmail:I,searchResults:U,intervalRetrieveMessagesWithUser:D,channels:s,isCreateChannel:N,setIsCreateChannel:A,setGetChannel:X,retrieveChannelUsers:P,userStatus:_,headers:t,signOut:H})})]}),Object(E.jsx)(ve,{users:n,channelMembers:L,usersDisplayed:G}),Object(E.jsx)(pe,{allMessagesRetrieved:m,setMessage:g,message:O,createMessageInAChannel:C,selectedChannel:v,selectedUser:w,createDirectMessageToAUser:T,stateSB:F,setStateSB:z,getChannel:q,getEmail:Z})]})})},Ce=(n(222),function(){var e=B(),t=e.headers,n=e.users,a=e.channels,s=e.handleClickOpenChannel,c=e.openChannel,i=e.inviteUserToAChannel,r=e.createNewChannelWithUser,l=e.handleClickOpenUsers,o=e.openUsers,d=e.handleDrawerToggle,h=e.mobileOpen,u=e.allMessagesRetrieved,j=e.message,b=e.setMessage,m=e.isAChannelSelected,p=e.selectedChannel,O=e.setSelectedChannel,g=e.createMessageInAChannel,x=e.intervalRetrieveMessages,v=e.userID,f=e.returnToHome,C=e.sortByEmail,S=e.searchResults,y=e.selectedUser,k=e.createDirectMessageToAUser,I=e.intervalRetrieveMessagesWithUser,U=e.loading,w=e.currentDateAndTime,T=e.isCreateChannel,D=e.setIsCreateChannel,M=e.userInviteError,A=e.setUserInviteError,R=e.stateSB,W=e.setStateSB,F=e.retrieveChannelUsers,z=e.channelMembers,P=e.usersDisplayed,L=e.userStatus,G=e.signOut;return Object(E.jsx)(E.Fragment,{children:U?Object(E.jsx)(N,{loading:U}):Object(E.jsx)(fe,{headers:t,users:n,channels:a,handleClickOpenChannel:s,openChannel:c,inviteUserToAChannel:i,createNewChannelWithUser:r,handleClickOpenUsers:l,openUsers:o,handleDrawerToggle:d,mobileOpen:h,allMessagesRetrieved:u,message:j,setMessage:b,isAChannelSelected:m,selectedChannel:p,setSelectedChannel:O,createMessageInAChannel:g,intervalRetrieveMessages:x,userID:v,returnToHome:f,sortByEmail:C,searchResults:S,selectedUser:y,createDirectMessageToAUser:k,intervalRetrieveMessagesWithUser:I,currentDateAndTime:w,isCreateChannel:T,setIsCreateChannel:D,userInviteError:M,setUserInviteError:A,stateSB:R,setStateSB:W,retrieveChannelUsers:F,channelMembers:z,usersDisplayed:P,userStatus:L,signOut:G})})}),Se=function(){var e=k("status"),t=Object(r.a)(e,1)[0];return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(l.a,{children:Object(E.jsxs)(o.d,{children:[Object(E.jsx)(o.b,{exact:!0,path:"/",component:function(){return(null===t||void 0===t?void 0:t.isLoggedIn)?Object(E.jsx)(o.a,{to:"/chat"}):Object(E.jsx)(M,{})}}),Object(E.jsx)(o.b,{exact:!0,path:"/chat",component:Ce,children:Object(E.jsx)(Ce,{})})]})})})},ye=function(){return Object(E.jsx)(Se,{})},ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,299)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))};i.a.render(Object(E.jsx)(s.a.StrictMode,{children:Object(E.jsx)(ye,{})}),document.getElementById("root")),ke()}},[[223,1,2]]]);
//# sourceMappingURL=main.915c1d48.chunk.js.map